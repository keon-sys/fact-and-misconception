## 5장: 책임과 메시지

### 5.1 자율적인 책임

**설계의 품질을 좌우하는 책임**

- 객체지향 설계의 아름다움은 적절한 책임을 적절한 객체에게 할당하는 속에서 드러남
- 자율적인 객체란 스스로 정한 원칙에 따라 판단하고 스스로 행동하는 객체임
- 객체가 책임을 자율적으로 수행하기 위해서는 객체에게 할당되는 책임이 자율적이어야 함

**자율성을 위한 책임의 특징**

- '어떻게'가 아닌 '무엇'을 해야하는지 설명하는 것이 자율적인 책임임
- 책임은 자율성을 보장할 수 있도록 포괄적이고 추상적이면서도 할 일을 명확하게 명시하는 것이어야 함
- 너무 추상적인 책임은 협력의 의도를 명확하게 표현하지 못하는 문제가 있음

**예시: 증언하라**

- "증언하라"는 자율적인 책임 - 어떻게 증언할지는 객체가 결정함
- "목격한 장면을 떠올리고, 기억을 재구성하고, 말로 표현하라"는 지나치게 구체적인 지시임
- 협력의 의도를 명확히 표현하는 수준에서 추상적이어야 함

### 5.2 메시지와 메서드

**메시지의 개념**

- 메시지는 메시지 이름과 인자 두부분으로 구성되며, 메시지 전송은 수신자와 메시지의 조합임
- 메시지가 어떻게가 아닌 무엇을 의미하며, 메서드를 선택하는 것은 수신받은 객체의 결정임
- 외부의 요청이 무엇인지를 표현하는 메시지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리함

**메서드**

- 객체가 수신한 메시지를 처리할 수 있는 방법임
- 메시지를 수신한 객체가 런타임에 메서드를 선택할 수 있다는 사실은 객체지향의 핵심 특징임

**다형성**

- 서로 다른 타입에 속하는 객체들이 동일한 메시지를 수신할 경우 서로 다른 메서드를 이용해 메시지를 처리하는 메커니즘임
- 다형성을 통해 동일한 메시지를 수신하는 객체들이 다른 객체들로 대체될 수 있으며 이를 통해 설계가 유연하고 재사용 가능하게 만듦
- 서로 다른 객체들이 다형성을 만족시킨다는 것은 객체들이 동일한 책임을 공유한다는 것을 의미함

### 5.3 메시지를 따라라

**객체지향의 핵심은 메시지**

- 객체지향의 중심 사상은 연쇄적으로 메시지를 전송하고 수신하는 객체들 사이의 협력 관계를 기반으로 사용자에게 유용한 기능을 제공하는 것임
- 클래스는 그저 추상화 도구에 불과하고 객체지향의 강력함은 클래스가 아니라 객체들이 주고 받는 메시지로부터 나옴
- 메시지가 객체를 선택해야 함

**책임-주도 설계 다시 살펴보기**

- What/Who 사이클: 어떤 행위가 필요한지를 먼저 정한후 수행할 객체를 결정하는 것임
- 메시지를 먼저 결정하고, 메시지를 수신하기에 적합한 객체를 선택함
- 결과적으로 메시지가 수신자의 책임을 결정함

**묻지 말고 시켜라**

- 메시지를 먼저 결정하면 객체가 외부에 제공하는 인터페이스가 '묻지말고 시켜라' 스타일을 가지게 됨
- 객체는 다른 객체의 상태를 묻지 말아야 함
- 송신자는 수신자가 메시지를 수신할 수 있다면 수신자의 타입은 중요하지 않음

### 5.4 객체 인터페이스

**인터페이스의 특징**

- 인터페이스의 사용법만 익히면 내부 구조나 동작 방식을 몰라도 사용할 수 있음
- 인터페이스 자체는 변경하지 않고 내부 구성이나 작동 방식을 변경할 수 있음
- 대상이 변경되더라도 동일한 인터페이스를 제공하면 상호작용할 수 있음

**공용 인터페이스**

- 외부에 공개된 인터페이스를 공용 인터페이스라 함
- 공용 인터페이스를 구성하는 것은 외부로부터 수신할 수 있는 메시지의 목록임
- 객체의 품질은 객체가 외부에 제공하는 인터페이스의 품질에 달려 있음

### 5.5 인터페이스와 구현의 분리

**객체 관점에서 생각하는 방법**

1. 좀 더 추상적인 인터페이스
2. 최소 인터페이스 - 외부에서 사용할 필요가 없는 인터페이스는 최대한 노출하지 않음
3. 인터페이스와 구현간에 차이가 있다는 사실을 인식함

**구현**

- 객체의 내부 구조와 작동 방식을 가리키는 말임
- 객체는 상태를 가지고 상태는 객체에 포함되지만 외부에 노출되지 않음 - 이는 구현에 해당함
- 객체는 행동(메서드)을 가지고 이 또한 객체의 구현에 해당함

**캡슐화**

- 객체의 자율성을 보존하기 위해 구현을 외부로부터 감추는 것을 캡슐화라 함
- 상태와 행위의 캡슐화와 사적인 비밀의 캡슐화 두 가지 관점이 있음
- 공
